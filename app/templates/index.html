<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Welcome to Omac</title>
    <link rel="stylesheet" href="/static/style.css?reload">
</head>
<body>
    <container>
        <header>
            <h1>One Million Arab Coders</h1>
            <h4>Done By : Seyf-Eddine.Mz</h4>
            <ul>
                <li class="profile">Profile</li>
                <li class="members">Member's list</li>
            </ul>
        </header>
        <br />
        <content>
            <add><a href="/topic/add">Create new +</a></add>
            <br /> <br />
            <table>
                <thead>
                    <td class="title">Title</td> <!--> <td>Edit</td> <!--> <td>Delete</td>
                </thead>
                {% for post in posts %}
                    <tr>
                        <td><a href="{{ url_for('topic_show', id = post.id) }}">{{post.title}}</a></td>
                        <td><a href="{{ url_for('topic_edit', id = post.id) }}">edit</a></td>
                        <td><a class="delete_topic" id="{{post.id}}" href="#">del</a></td>
                    </tr>
                {% endfor %}
            </table>
        </content>
    </container>
</body>
</html>

<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous">
</script>

<script>
   $(function ()
    {
        $(".delete_topic").click(function(event){
            var id = event.target.id;
            alert("id = "+id);
            $.ajax({
                type: "DELETE",
                url: "/api/topic/delete/"+id,
                dataType: "json",
                success: function (response)
                {
                    alert("Added topic successfully !");
                }
            });
        });
    });
</script>
